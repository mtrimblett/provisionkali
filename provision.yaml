- name: provisionkali
  hosts: localhost
  become: true
  gather_facts: false
  tasks:
    - name: Clone my Git provision Kali repository
      git:
        repo: https://github.com/mtrimblett/provisionkali.git
        dest: /opt/provisionkali
        version: main

    - name: Clone my Git Scripts repository
      git:
        repo: https://github.com/mtrimblett/scripts.git
        dest: /opt/scripts
        version: main

    - name: Clone PimpMyKali repository
      git:
        repo: https://github.com/Dewalt-arch/pimpmykali.git
        dest: /opt/pimpmykali
        version: master

    - name: Clone XenSpawn
      git:
        repo: https://github.com/X0RW3LL/XenSpawn.git
        dest: /opt/XenSpawn
        version: main

    - name: Create /opt/linPEAS directory
      ansible.builtin.file:
        path: /opt/linPEAS
        state: directory

    - name: Create /opt/winPEAS directory
      ansible.builtin.file:
        path: /opt/winPEAS
        state: directory

    - name: Download linpeas.sh
      get_url:
        url: "https://github.com/carlospolop/PEASS-ng/releases/latest/download/linpeas.sh"
        dest: "/opt/linPEAS/linpeas.sh"

    - name: Download winPEASany.exe
      get_url:
        url: "https://github.com/carlospolop/PEASS-ng/releases/latest/download/winPEASany.exe"
        dest: "/opt/winPEAS/winPEASany.exe"
        
    - name: Download winPEASx64.exe
      get_url:
        url: "https://github.com/carlospolop/PEASS-ng/releases/latest/download/winPEASx64.exe"
        dest: "/opt/winPEAS/winPEASx64.exe"

    - name: Download winPEAS.bat
      get_url:
        url: "https://github.com/carlospolop/PEASS-ng/releases/latest/download/winPEAS.bat"
        dest: "/opt/winPEAS/winPEAS.bat"

    - name: Download winPEASx86.exe
      get_url:
        url: "https://github.com/carlospolop/PEASS-ng/releases/latest/download/winPEASx86.exe"
        dest: "/opt/winPEAS/winPEASx86.exe"

    - name: Create /opt/lse directory
      ansible.builtin.file:
        path: /opt/lse
        state: directory
        
    - name: Download lse
      get_url:
        url: "https://github.com/diego-treitos/linux-smart-enumeration/releases/latest/download/lse.sh"
        dest: "/opt/lse/lse.sh"
        
    - name: Clone adPEAS
      git:
        repo: https://github.com/61106960/adPEAS.git
        dest: /opt/adPEAS
        version: main

    - name: Clone LinEnum
      git:
        repo: https://github.com/rebootuser/LinEnum.git
        dest: /opt/LinEnum
        version: master

    - name: Create /opt/pspy directory
      ansible.builtin.file:
        path: /opt/pspy
        state: directory
        
    - name: Download pspy32
      get_url:
        url: "https://github.com/DominicBreuker/pspy/releases/latest/download/pspy32"
        dest: "/opt/pspy/pspy32"

    - name: Download pspy64
      get_url:
        url: "https://github.com/DominicBreuker/pspy/releases/latest/download/pspy64"
        dest: "/opt/pspy/pspy64"

    - name: Create /opt/PowerView directory
      ansible.builtin.file:
        path: /opt/PowerView
        state: directory

    - name: Download PowerView.ps1
      get_url:
        url: "https://github.com/PowerShellMafia/PowerSploit/blob/dev/Recon/PowerView.ps1"
        dest: "/opt/PowerView/PowerView.ps1"

    - name: Clone PrivescCheck
      git:
        repo: https://github.com/itm4n/PrivescCheck.git
        dest: /opt/PrivescCheck
        version: master

    - name: Create /opt/ligolo-ng directory
      ansible.builtin.file:
        path: /opt/ligolo-ng
        state: directory

    - name: Download ligolo Windows
      get_url:
        url: "https://github.com/nicocha30/ligolo-ng/releases/download/v0.5.1/ligolo-ng_agent_0.5.1_windows_amd64.zip"
        dest: "/opt/ligolo-ng/ligolo-ng_agent_0.5.1_windows_amd64.zip"

    - name: Download ligolo Linux
      get_url:
        url: "https://github.com/nicocha30/ligolo-ng/releases/download/v0.5.1/ligolo-ng_agent_0.5.1_darwin_amd64.tar.gz"
        dest: "/opt/ligolo-ng/ligolo-ng_agent_0.5.1_darwin_amd64.tar.gz"
